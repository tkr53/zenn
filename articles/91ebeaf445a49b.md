---
title: "useEventã¯äº‹å‰ã«setupã—ã‚ˆã†"
emoji: "ğŸ“"
type: "tech"
topics:
  - "react"
  - "typescript"
  - "test"
  - "testinglibrary"
published: true
published_at: "2024-08-22 00:42"
---

reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚’æ›¸ãéš›ã«[Testing Library](https://testing-library.com/)ã‚’åˆ©ç”¨ã—ã¦ã„ã¾ã—ãŸãŒv13ã‹ã‚‰v14ã¸ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã§userEventã®ä½¿ã„æ–¹ãŒå¤‰ã‚ã£ã¦ã„ã¾ã—ãŸã€‚

ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã“ã¡ã‚‰
https://testing-library.com/docs/user-event/intro

# ä½¿ã„æ–¹
v13ã¾ã§ã¯ã“ã†ã§ã—ãŸãŒ
```ts:MyComponent.spec.ts
import {render, screen} from '@testing-library/react'
import userEvent from '@testing-library/user-event'

it('button click test', async () => {
  const user = userEvent.setup()

  render(<MyComponent />)

  await user.click(screen.getByRole('button', {name: "click me!"}))

  // ...assertions...
})
```

v14ã‹ã‚‰ã¯ã“ã¡ã‚‰ã®ã‚ˆã†ãªæ›¸ãæ–¹ãŒæ¨å¥¨ã•ã‚Œã¦ã„ã¾ã™ã€‚
```ts:MyComponent.spec.ts
import {render, screen} from '@testing-library/react'
import userEvent from '@testing-library/user-event'

const setup = () => {
  return {
    user: userEvent.setup(),
    ...render(<MyComponent />),
  }
}


it('button click test', async () => {
  const user = setup()

  await user.click(screen.getByRole('button', {name: "click me!"}))

  // ...assertions...
})
```

# çµ‚ã‚ã‚Šã«
v13ã®æ›¸ãæ–¹ã§ã‚‚å‹•ä½œè‡ªä½“ã«å•é¡Œã¯ãªã‹ã£ãŸã®ã§ä»Šã¾ã§åŒã˜æ›¸ãæ–¹ã§å®Ÿè£…ã‚’è¡Œã£ã¦ã„ã¾ã—ãŸãŒä»Šå¾Œã¯v14ã§æ¨å¥¨ã•ã‚Œã‚‹æ›¸ãæ–¹ã§å®Ÿè£…ã‚’é€²ã‚ãŸã„ã¨æ€ã„ã¾ã™ã€‚
ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã—ã£ã‹ã‚Šèª­ã‚€ã¹ãã§ã™ã­ã€‚